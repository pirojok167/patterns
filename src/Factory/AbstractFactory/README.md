# Абстрактная фабрика

### Суть паттерна
Основная идея абстрактной фабрики в том, чтобы создавать объекты определенного семейства классов без их конкретного указания.
Ключевое слово - семейство.

### Описание проблемы
Рассмотрим пример с пиццей. У пиццы пепперони есть определённый строгий состав: тесто, соус, колбаски.
Но каждая пиццерия использует собственные региональные ингредиенты.
В Русской пепперони используется майонез, а в японской - острый соус.

Что будет, если в русскую пиццу вместо майонеза попадёт острый чили соус из семейства японских ингредиентов?
Клиенты явно будут недовольны. Поэтому нам необходимо контролировать создание классов-ингредиентов, как это сделать?

### Решение
Давайте создадим интерфейс для [класса-соус](Contracts/Ingredients/Sauce.java). А затем интерфейсы и для [остальных ингредиентов](Contracts/Ingredients). 
Каждый магазин будет использовать собственные ингредиенты, реализующие эти интерфейсы.

Нам нужно заставить магазины использовать эти ингредиенты.
Для этого создадим контракт [фабрики](Contracts/PizzaIngredientFactory.java), который будут использовать все магазины.

Реализуем фабрики для каждого конкретного магазина. Каждая фабрика будет отвечать за своё семейство ингредиентов.
[ChinesePizzaFactory](ChinesePizza/ChinesePizzaIngredientFactory.java) будет создавать пиццу в японском стиле, с использованием японских ингредиентов.
[RussianPizzaFactory](RussianPizza/RussianPizzaIngredientFactory.java) создаёт русскую пиццу, используя свои региональные ингредиенты.

В самой [пиццерии](RussianPizzaStore.java) мы просто подставляем нужную фабрику.

```java
class PizzaStore {
    PizzaIngredientFactory ingredientFactory = new RussianPizzaIngredientFactory();

    Pizza pizza = new PepperoniPizza(ingredientFactory);
}
```

> В абстрактной фабрике прячется фабричный метод